#define INSTRUCTION_COUNT 256

struct InstructionInfo{
    i32 byte_size;
    const char *name;
};

static void InitInstructionsInfo(InstructionInfo *instructions_info){
    instructions_info[0x00] = InstructionInfo{1, "NOP"};
    instructions_info[0x01] = InstructionInfo{3, "LXI B,d16"};
    instructions_info[0x02] = InstructionInfo{1, "STAX B"};
    instructions_info[0x03] = InstructionInfo{1, "INX B"};
    instructions_info[0x04] = InstructionInfo{1, "INR B"};
    instructions_info[0x05] = InstructionInfo{1, "DCR B"};
    instructions_info[0x06] = InstructionInfo{2, "MVI B,d8"};
    instructions_info[0x07] = InstructionInfo{1, "RLC"};
    instructions_info[0x08] = InstructionInfo{1, "NOP"};
    instructions_info[0x09] = InstructionInfo{1, "DAD B"};
    instructions_info[0x0A] = InstructionInfo{1, "LDAX B"};
    instructions_info[0x0B] = InstructionInfo{1, "DCX B"};
    instructions_info[0x0C] = InstructionInfo{1, "INR C"};
    instructions_info[0x0D] = InstructionInfo{1, "DCR C"};
    instructions_info[0x0E] = InstructionInfo{2, "MVI C,d8"};
    instructions_info[0x0F] = InstructionInfo{1, "RRC"};

    instructions_info[0x10] = InstructionInfo{1, "NOP"};
    instructions_info[0x11] = InstructionInfo{3, "LXI D,d16"};
    instructions_info[0x12] = InstructionInfo{1, "STAX D"};
    instructions_info[0x13] = InstructionInfo{1, "INX D"};
    instructions_info[0x14] = InstructionInfo{1, "INR D"};
    instructions_info[0x15] = InstructionInfo{1, "DCR D"};
    instructions_info[0x16] = InstructionInfo{2, "MVI D,d8"};
    instructions_info[0x17] = InstructionInfo{1, "RAL"};
    instructions_info[0x18] = InstructionInfo{1, "NOP"};
    instructions_info[0x19] = InstructionInfo{1, "DAD D"};
    instructions_info[0x1A] = InstructionInfo{1, "LDAX D"};
    instructions_info[0x1B] = InstructionInfo{1, "DCX D"};
    instructions_info[0x1C] = InstructionInfo{1, "INR E"};
    instructions_info[0x1D] = InstructionInfo{1, "DCR E"};
    instructions_info[0x1E] = InstructionInfo{2, "MVI E,d8"};
    instructions_info[0x1F] = InstructionInfo{1, "RAR"};

    instructions_info[0x20] = InstructionInfo{1, "NOP"};
    instructions_info[0x21] = InstructionInfo{3, "LXI H,d16"};
    instructions_info[0x22] = InstructionInfo{3, "SHLD a16"};
    instructions_info[0x23] = InstructionInfo{1, "INX H"};
    instructions_info[0x24] = InstructionInfo{1, "INR H"};
    instructions_info[0x25] = InstructionInfo{1, "DCR H"};
    instructions_info[0x26] = InstructionInfo{2, "MVI H,d8"};
    instructions_info[0x27] = InstructionInfo{1, "DAA"};
    instructions_info[0x28] = InstructionInfo{1, "NOP"};
    instructions_info[0x29] = InstructionInfo{1, "DAD H"};
    instructions_info[0x2A] = InstructionInfo{3, "LHLD a16"};
    instructions_info[0x2B] = InstructionInfo{1, "DCX H"};
    instructions_info[0x2C] = InstructionInfo{1, "INR L"};
    instructions_info[0x2D] = InstructionInfo{1, "DCR L"};
    instructions_info[0x2E] = InstructionInfo{2, "MVI L,d8"};
    instructions_info[0x2F] = InstructionInfo{1, "CMA"};

    instructions_info[0x30] = InstructionInfo{1, "NOP"};
    instructions_info[0x31] = InstructionInfo{3, "LXI SP,d16"};
    instructions_info[0x32] = InstructionInfo{3, "STA a16"};
    instructions_info[0x33] = InstructionInfo{1, "INX SP"};
    instructions_info[0x34] = InstructionInfo{1, "INR M"};
    instructions_info[0x35] = InstructionInfo{1, "DCR M"};
    instructions_info[0x36] = InstructionInfo{2, "MVI M,d8"};
    instructions_info[0x37] = InstructionInfo{1, "STC"};
    instructions_info[0x38] = InstructionInfo{1, "NOP"};
    instructions_info[0x39] = InstructionInfo{1, "DAD SP"};
    instructions_info[0x3A] = InstructionInfo{3, "LDA a16"};
    instructions_info[0x3B] = InstructionInfo{1, "DCX SP"};
    instructions_info[0x3C] = InstructionInfo{1, "INR A"};
    instructions_info[0x3D] = InstructionInfo{1, "DCR A"};
    instructions_info[0x3E] = InstructionInfo{2, "MVI A,d8"};
    instructions_info[0x3F] = InstructionInfo{1, "CMC"};

    instructions_info[0x40] = InstructionInfo{1, "MOV B,B"};
    instructions_info[0x41] = InstructionInfo{1, "MOV B,C"};
    instructions_info[0x42] = InstructionInfo{1, "MOV B,D"};
    instructions_info[0x43] = InstructionInfo{1, "MOV B,E"};
    instructions_info[0x44] = InstructionInfo{1, "MOV B,H"};
    instructions_info[0x45] = InstructionInfo{1, "MOV B,L"};
    instructions_info[0x46] = InstructionInfo{1, "MOV B,M"};
    instructions_info[0x47] = InstructionInfo{1, "MOV B,A"};
    instructions_info[0x48] = InstructionInfo{1, "MOV C,B"};
    instructions_info[0x49] = InstructionInfo{1, "MOV C,C"};
    instructions_info[0x4A] = InstructionInfo{1, "MOV C,D"};
    instructions_info[0x4B] = InstructionInfo{1, "MOV C,E"};
    instructions_info[0x4C] = InstructionInfo{1, "MOV C,H"}; 
    instructions_info[0x4D] = InstructionInfo{1, "MOV C,L"}; 
    instructions_info[0x4E] = InstructionInfo{1, "MOV C,M"};
    instructions_info[0x4F] = InstructionInfo{1, "MOV C,A"};

    instructions_info[0x50] = InstructionInfo{1, "MOV D,B"};
    instructions_info[0x51] = InstructionInfo{1, "MOV D,C"};
    instructions_info[0x52] = InstructionInfo{1, "MOV D,D"};
    instructions_info[0x53] = InstructionInfo{1, "MOV D,E"};
    instructions_info[0x54] = InstructionInfo{1, "MOV D,H"};
    instructions_info[0x55] = InstructionInfo{1, "MOV D,L"};
    instructions_info[0x56] = InstructionInfo{1, "MOV D,M"};
    instructions_info[0x57] = InstructionInfo{1, "MOV D,A"};
    instructions_info[0x58] = InstructionInfo{1, "MOV E,B"};
    instructions_info[0x59] = InstructionInfo{1, "MOV E,C"};
    instructions_info[0x5A] = InstructionInfo{1, "MOV E,D"};
    instructions_info[0x5B] = InstructionInfo{1, "MOV E,E"};
    instructions_info[0x5C] = InstructionInfo{1, "MOV E,H"}; 
    instructions_info[0x5D] = InstructionInfo{1, "MOV E,L"}; 
    instructions_info[0x5E] = InstructionInfo{1, "MOV E,M"};
    instructions_info[0x5F] = InstructionInfo{1, "MOV E,A"};

    instructions_info[0x60] = InstructionInfo{1, "MOV H,B"};
    instructions_info[0x61] = InstructionInfo{1, "MOV H,C"};
    instructions_info[0x62] = InstructionInfo{1, "MOV H,D"};
    instructions_info[0x63] = InstructionInfo{1, "MOV H,E"};
    instructions_info[0x64] = InstructionInfo{1, "MOV H,H"};
    instructions_info[0x65] = InstructionInfo{1, "MOV H,L"};
    instructions_info[0x66] = InstructionInfo{1, "MOV H,M"};
    instructions_info[0x67] = InstructionInfo{1, "MOV H,A"};
    instructions_info[0x68] = InstructionInfo{1, "MOV L,B"};
    instructions_info[0x69] = InstructionInfo{1, "MOV L,C"};
    instructions_info[0x6A] = InstructionInfo{1, "MOV L,D"};
    instructions_info[0x6B] = InstructionInfo{1, "MOV L,E"};
    instructions_info[0x6C] = InstructionInfo{1, "MOV L,H"}; 
    instructions_info[0x6D] = InstructionInfo{1, "MOV L,L"}; 
    instructions_info[0x6E] = InstructionInfo{1, "MOV L,M"};
    instructions_info[0x6F] = InstructionInfo{1, "MOV L,A"};

    instructions_info[0x70] = InstructionInfo{1, "MOV M,B"};
    instructions_info[0x71] = InstructionInfo{1, "MOV M,C"};
    instructions_info[0x72] = InstructionInfo{1, "MOV M,D"};
    instructions_info[0x73] = InstructionInfo{1, "MOV M,E"};
    instructions_info[0x74] = InstructionInfo{1, "MOV M,H"};
    instructions_info[0x75] = InstructionInfo{1, "MOV M,L"};
    instructions_info[0x76] = InstructionInfo{1, "HLT"};
    instructions_info[0x77] = InstructionInfo{1, "MOV M,A"};
    instructions_info[0x78] = InstructionInfo{1, "MOV A,B"};
    instructions_info[0x79] = InstructionInfo{1, "MOV A,C"};
    instructions_info[0x7A] = InstructionInfo{1, "MOV A,D"};
    instructions_info[0x7B] = InstructionInfo{1, "MOV A,E"};
    instructions_info[0x7C] = InstructionInfo{1, "MOV A,H"}; 
    instructions_info[0x7D] = InstructionInfo{1, "MOV A,L"}; 
    instructions_info[0x7E] = InstructionInfo{1, "MOV A,M"};
    instructions_info[0x7F] = InstructionInfo{1, "MOV A,A"};

    instructions_info[0x80] = InstructionInfo{1, "ADD B"};
    instructions_info[0x81] = InstructionInfo{1, "ADD C"};
    instructions_info[0x82] = InstructionInfo{1, "ADD D"};
    instructions_info[0x83] = InstructionInfo{1, "ADD E"};
    instructions_info[0x84] = InstructionInfo{1, "ADD H"};
    instructions_info[0x85] = InstructionInfo{1, "ADD L"};
    instructions_info[0x86] = InstructionInfo{1, "ADD M"};
    instructions_info[0x87] = InstructionInfo{1, "ADD A"};
    instructions_info[0x88] = InstructionInfo{1, "ADC B"};
    instructions_info[0x89] = InstructionInfo{1, "ADC C"};
    instructions_info[0x8A] = InstructionInfo{1, "ADC D"};
    instructions_info[0x8B] = InstructionInfo{1, "ADC E"};
    instructions_info[0x8C] = InstructionInfo{1, "ADC H"}; 
    instructions_info[0x8D] = InstructionInfo{1, "ADC L"}; 
    instructions_info[0x8E] = InstructionInfo{1, "ADC M"};
    instructions_info[0x8F] = InstructionInfo{1, "ADC A"};

    instructions_info[0x90] = InstructionInfo{1, "SUB B"};
    instructions_info[0x91] = InstructionInfo{1, "SUB C"};
    instructions_info[0x92] = InstructionInfo{1, "SUB D"};
    instructions_info[0x93] = InstructionInfo{1, "SUB E"};
    instructions_info[0x94] = InstructionInfo{1, "SUB H"};
    instructions_info[0x95] = InstructionInfo{1, "SUB L"};
    instructions_info[0x96] = InstructionInfo{1, "SUB M"};
    instructions_info[0x97] = InstructionInfo{1, "SUB A"};
    instructions_info[0x98] = InstructionInfo{1, "SBB B"};
    instructions_info[0x99] = InstructionInfo{1, "SBB C"};
    instructions_info[0x9A] = InstructionInfo{1, "SBB D"};
    instructions_info[0x9B] = InstructionInfo{1, "SBB E"};
    instructions_info[0x9C] = InstructionInfo{1, "SBB H"}; 
    instructions_info[0x9D] = InstructionInfo{1, "SBB L"}; 
    instructions_info[0x9E] = InstructionInfo{1, "SBB M"};
    instructions_info[0x9F] = InstructionInfo{1, "SBB A"};

    instructions_info[0xA0] = InstructionInfo{1, "ANA B"};
    instructions_info[0xA1] = InstructionInfo{1, "ANA C"};
    instructions_info[0xA2] = InstructionInfo{1, "ANA D"};
    instructions_info[0xA3] = InstructionInfo{1, "ANA E"};
    instructions_info[0xA4] = InstructionInfo{1, "ANA H"};
    instructions_info[0xA5] = InstructionInfo{1, "ANA L"};
    instructions_info[0xA6] = InstructionInfo{1, "ANA M"};
    instructions_info[0xA7] = InstructionInfo{1, "ANA A"};
    instructions_info[0xA8] = InstructionInfo{1, "XRA B"};
    instructions_info[0xA9] = InstructionInfo{1, "XRA C"};
    instructions_info[0xAA] = InstructionInfo{1, "XRA D"};
    instructions_info[0xAB] = InstructionInfo{1, "XRA E"};
    instructions_info[0xAC] = InstructionInfo{1, "XRA H"}; 
    instructions_info[0xAD] = InstructionInfo{1, "XRA L"}; 
    instructions_info[0xAE] = InstructionInfo{1, "XRA M"};
    instructions_info[0xAF] = InstructionInfo{1, "XRA A"};

    instructions_info[0xB0] = InstructionInfo{1, "ORA B"};
    instructions_info[0xB1] = InstructionInfo{1, "ORA C"};
    instructions_info[0xB2] = InstructionInfo{1, "ORA D"};
    instructions_info[0xB3] = InstructionInfo{1, "ORA E"};
    instructions_info[0xB4] = InstructionInfo{1, "ORA H"};
    instructions_info[0xB5] = InstructionInfo{1, "ORA L"};
    instructions_info[0xB6] = InstructionInfo{1, "ORA M"};
    instructions_info[0xB7] = InstructionInfo{1, "ORA A"};
    instructions_info[0xB8] = InstructionInfo{1, "CMP B"};
    instructions_info[0xB9] = InstructionInfo{1, "CMP C"};
    instructions_info[0xBA] = InstructionInfo{1, "CMP D"};
    instructions_info[0xBB] = InstructionInfo{1, "CMP E"};
    instructions_info[0xBC] = InstructionInfo{1, "CMP H"}; 
    instructions_info[0xBD] = InstructionInfo{1, "CMP L"}; 
    instructions_info[0xBE] = InstructionInfo{1, "CMP M"};
    instructions_info[0xBF] = InstructionInfo{1, "CMP A"};

    instructions_info[0xC0] = InstructionInfo{1, "RNZ"};
    instructions_info[0xC1] = InstructionInfo{1, "POP B"};
    instructions_info[0xC2] = InstructionInfo{3, "JNZ a16"};
    instructions_info[0xC3] = InstructionInfo{3, "JMP a16"};
    instructions_info[0xC4] = InstructionInfo{3, "CNZ a16"};
    instructions_info[0xC5] = InstructionInfo{1, "PUSH B"};
    instructions_info[0xC6] = InstructionInfo{2, "ADI d8"};
    instructions_info[0xC7] = InstructionInfo{1, "RST 0"};
    instructions_info[0xC8] = InstructionInfo{1, "RZ"};
    instructions_info[0xC9] = InstructionInfo{1, "RET"};
    instructions_info[0xCA] = InstructionInfo{3, "JZ a16"};
    instructions_info[0xCB] = InstructionInfo{3, "JMP a16"};
    instructions_info[0xCC] = InstructionInfo{3, "CZ a16"}; 
    instructions_info[0xCD] = InstructionInfo{3, "CALL a16"}; 
    instructions_info[0xCE] = InstructionInfo{2, "ACI d8"};
    instructions_info[0xCF] = InstructionInfo{1, "RST 1"};

    instructions_info[0xD0] = InstructionInfo{1, "RNC"};
    instructions_info[0xD1] = InstructionInfo{1, "POP D"};
    instructions_info[0xD2] = InstructionInfo{3, "JNC a16"};
    instructions_info[0xD3] = InstructionInfo{2, "OUT d8"};
    instructions_info[0xD4] = InstructionInfo{3, "CNC a16"};
    instructions_info[0xD5] = InstructionInfo{1, "PUSH D"};
    instructions_info[0xD6] = InstructionInfo{2, "SUI d8"};
    instructions_info[0xD7] = InstructionInfo{1, "RST 2"};
    instructions_info[0xD8] = InstructionInfo{1, "RC"};
    instructions_info[0xD9] = InstructionInfo{1, "RET"};
    instructions_info[0xDA] = InstructionInfo{3, "JC a16"};
    instructions_info[0xDB] = InstructionInfo{2, "IN d8"};
    instructions_info[0xDC] = InstructionInfo{3, "CC a16"}; 
    instructions_info[0xDD] = InstructionInfo{3, "CALL a16"}; 
    instructions_info[0xDE] = InstructionInfo{2, "SBI d8"};
    instructions_info[0xDF] = InstructionInfo{1, "RST 3"};

    instructions_info[0xE0] = InstructionInfo{1, "RPO"};
    instructions_info[0xE1] = InstructionInfo{1, "POP H"};
    instructions_info[0xE2] = InstructionInfo{3, "JPO a16"};
    instructions_info[0xE3] = InstructionInfo{1, "XTHL"};
    instructions_info[0xE4] = InstructionInfo{3, "CPO a16"};
    instructions_info[0xE5] = InstructionInfo{1, "PUSH H"};
    instructions_info[0xE6] = InstructionInfo{2, "ANI d8"};
    instructions_info[0xE7] = InstructionInfo{1, "RST 4"};
    instructions_info[0xE8] = InstructionInfo{1, "RPE"};
    instructions_info[0xE9] = InstructionInfo{1, "PCHL"};
    instructions_info[0xEA] = InstructionInfo{3, "JPE a16"};
    instructions_info[0xEB] = InstructionInfo{1, "XCHG"};
    instructions_info[0xEC] = InstructionInfo{3, "CPE a16"}; 
    instructions_info[0xED] = InstructionInfo{3, "CALL a16"}; 
    instructions_info[0xEE] = InstructionInfo{2, "XRI d8"};
    instructions_info[0xEF] = InstructionInfo{1, "RST 5"};

    instructions_info[0xF0] = InstructionInfo{1, "RP"};
    instructions_info[0xF1] = InstructionInfo{1, "POP PSW"};
    instructions_info[0xF2] = InstructionInfo{3, "JP a16"};
    instructions_info[0xF3] = InstructionInfo{1, "DI"};
    instructions_info[0xF4] = InstructionInfo{3, "CP a16"};
    instructions_info[0xF5] = InstructionInfo{1, "PUSH PSW"};
    instructions_info[0xF6] = InstructionInfo{2, "ORI d8"};
    instructions_info[0xF7] = InstructionInfo{1, "RST 6"};
    instructions_info[0xF8] = InstructionInfo{1, "RM"};
    instructions_info[0xF9] = InstructionInfo{1, "SPHL"};
    instructions_info[0xFA] = InstructionInfo{3, "JM a16"};
    instructions_info[0xFB] = InstructionInfo{1, "EI"};
    instructions_info[0xFC] = InstructionInfo{3, "CM a16"}; 
    instructions_info[0xFD] = InstructionInfo{3, "CALL a16"}; 
    instructions_info[0xFE] = InstructionInfo{2, "CPI d8"};
    instructions_info[0xFF] = InstructionInfo{1, "RST 7"};
}